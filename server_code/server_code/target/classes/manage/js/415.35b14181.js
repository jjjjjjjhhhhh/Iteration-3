(self["webpackChunkvue3_nb0"]=self["webpackChunkvue3_nb0"]||[]).push([[415],{1445:(e,t,n)=>{"use strict";var i=n(34226),a=n(37791).findIndex,l=n(73997),r="findIndex",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),l(r)},79853:(e,t,n)=>{"use strict";var i=n(34226),a=n(37791).map,l=n(57195),r=l("map");i({target:"Array",proto:!0,forced:!r},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},50545:(e,t,n)=>{var i=n(34226),a=n(57323),l=n(5588).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==l,sham:!a},{defineProperties:l})},40732:(e,t,n)=>{var i=n(34226),a=n(60782),l=n(64528),r=n(70268).f,o=n(57323),s=!o||a((function(){r(1)}));i({target:"Object",stat:!0,forced:s,sham:!o},{getOwnPropertyDescriptor:function(e,t){return r(l(e),t)}})},29089:(e,t,n)=>{var i=n(34226),a=n(57323),l=n(7777),r=n(64528),o=n(70268),s=n(26317);i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,i=r(e),a=o.f,u=l(i),c={},d=0;while(u.length>d)n=a(i,t=u[d++]),void 0!==n&&s(c,t,n);return c}})},32294:(e,t,n)=>{var i=n(34226),a=n(36981),l=n(77998),r=n(60782),o=r((function(){l(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(e){return l(a(e))}})},62415:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>je});var i=n(83556);function a(e,t,n,a,l,r){var o=(0,i.up)("index-main"),s=(0,i.up)("el-container");return(0,i.wg)(),(0,i.j4)(s,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(o)]})),_:1})}n(36046),n(59900),n(7116),n(49127);var l=n(49583),r=n(11702),o=(n(42134),n(7970)),s=n(79580),u=function(e){return(0,i.dD)("data-v-3c72b9ea"),e=e(),(0,i.Cn)(),e},c={class:"menu_wrapper"},d={key:0,class:"iconfont icon-zhuye2"},f=u((function(){return(0,i._)("span",null,"首页",-1)}));const p={__name:"indexMenu",props:{collapse:Boolean},setup:function(e){var t,n=e,a=((0,s.oR)(),null===(t=(0,i.FN)())||void 0===t?void 0:t.appContext.config.globalProperties),u=(0,l.BK)(n),p=u.collapse,v=(0,l.iH)([]),m=(0,l.iH)(""),h=function(){var e=o.Z.list();e&&(v.value=e),m.value=null===a||void 0===a?void 0:a.$toolUtil.storageGet("role");for(var t=0;t<v.value.length;t++)if(v.value[t].roleName==m.value){v.value=v.value[t];break}},g=(0,l.iH)("");(0,i.YP)((function(){return a.$router.currentRoute.value}),(function(e,t){g.value=decodeURIComponent(e.fullPath)}),{immediate:!0});var w=function(e,t){return"center"==e?"/".concat(m.value,"Center"):"storeup"==e?"/storeup?type=".concat(t):"exampaper"==e&&"12"==t?"/exampaperlist":"examrecord"==e&&"22"==t?"/examfailrecord":"/".concat(e).concat(t?"?menuJump="+t:"")},y=function(e,t){var n=w(e,t);a.$router.push(n)};return h(),function(e,t){var n=(0,i.up)("el-menu-item"),a=(0,i.up)("el-sub-menu"),o=(0,i.up)("el-menu"),s=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(s,{"wrap-class":"scrollbar-wrapper",class:"menu_scrollbar"},{default:(0,i.w5)((function(){return[(0,i.Wm)(o,{"default-openeds":[],"unique-opened":!0,"default-active":g.value,class:"menu_view",collapse:(0,l.SU)(p)},{default:(0,i.w5)((function(){return[(0,i.Wm)(n,{class:"first-item",index:"/",onClick:t[0]||(t[0]=function(e){return y("")})},{title:(0,i.w5)((function(){return[f]})),default:(0,i.w5)((function(){return[(0,l.SU)(p)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",d))]})),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.value.backMenu,(function(e,t){return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.child.length>1?((0,i.wg)(),(0,i.j4)(a,{key:0,class:"first-item",index:e.menu},{title:(0,i.w5)((function(){return[(0,l.SU)(p)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["iconfont",e.fontClass])},null,2)),(0,i._)("span",null,(0,r.zw)(e.menu),1)]})),default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.child,(function(e,t){return(0,i.wg)(),(0,i.j4)(n,{class:"second-item",key:t,index:w(e.classname||e.tableName,e.menuJump),onClick:function(t){return y(e.classname||e.tableName,e.menuJump)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.menu),1)]})),_:2},1032,["index","onClick"])})),128))]})),_:2},1032,["index"])):((0,i.wg)(),(0,i.j4)(n,{key:1,class:"first-item",index:w(e.child[0].classname||e.child[0].tableName,e.child[0].menuJump),onClick:function(t){return y(e.child[0].classname||e.child[0].tableName,e.child[0].menuJump)}},{title:(0,i.w5)((function(){return[(0,i._)("span",null,(0,r.zw)(e.child[0].menu),1)]})),default:(0,i.w5)((function(){return[(0,l.SU)(p)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["iconfont",e.fontClass])},null,2))]})),_:2},1032,["index","onClick"]))],64)})),256))]})),_:1},8,["default-active","collapse"])]})),_:1})])}}};var v=n(97319);const m=(0,v.Z)(p,[["__scopeId","data-v-3c72b9ea"]]),h=m;var g=n(21256),w=n(76809),y=(n(79853),n(2968),n(48991),n(27258),n(60165),n(30845),n(73899),n(28943),n(59857),n(73451),n(68355),n(98529)),k=n(31225),x=n(60610),b=n.n(x),_=n(9479),$=n(40202),C=function(e){return(0,i.dD)("data-v-1f46f1f2"),e=e(),(0,i.Cn)(),e},T={class:"top_view"},j={class:"top_left_view"},U=C((function(){return(0,i._)("div",{class:"projectTitle"},"健康生活信息管理系统",-1)})),D={class:"top_right_view"},W={class:"avatar-wrapper"},H={class:"nickname"},O=["src"],S={class:"z-box",style:{width:"70%",padding:"20px",margin:"0 auto"}},V=["onClick"],P=["src"],M={style:{margin:"0 0 0 10px",display:"flex","flex-direction":"column","align-items":"flex-start"}},L={style:{fontSize:"14px",color:"#000",flex:"1",fontWeight:"bold"},class:"item-style"},Z={key:0,style:{padding:"0 5px",height:"16px","border-radius":"50%","text-align":"center","line-height":"16px","font-size":"12px",background:"#f00",color:"#fff",width:"auto",margin:"0 2px 0 0"}},z={key:0,class:"noList"},q={class:"chat-content",id:"chat-content"},A={key:0,style:{"font-size":"12px","text-align":"center",margin:"4px 0"}},I={key:1,class:"right-content"},E={key:1,controls:"",style:{width:"200px",height:"160px"}},N=["src"],Y=["src"],R={key:2,class:"left-content"},F=["src"],K={key:1,controls:"",style:{width:"200px",height:"160px"}},B=["src"],G=C((function(){return(0,i._)("div",{class:"clear-float"},null,-1)})),J={slot:"footer",class:"dialog-footer",style:{display:"flex","align-items":"center"}},X=["innerHTML"],Q={class:"breadcrumb-view"},ee={key:0,class:"iconfont icon-zhuye2"},te=["onClick"];const ne={__name:"indexTop",props:{collapse:Boolean},emits:["collapseChange"],setup:function(e,t){var a,o=t.emit,u=e,c=(0,$.tv)(),d=null===(a=(0,i.FN)())||void 0===a?void 0:a.appContext.config.globalProperties,f=null===d||void 0===d?void 0:d.$toolUtil.storageGet("sessionTable"),p=null===d||void 0===d?void 0:d.$toolUtil.storageGet("role"),v=(0,$.yj)(),m=(0,i.Fl)((function(){var e=v.matched.map((function(e){return{name:e.meta.title||e.name,path:e.path}}));return"/"==e[e.length-1].path?[e[0]]:e})),h=(0,l.BK)(u),x=h.collapse,C=(0,s.oR)(),ne=(0,i.Fl)((function(){return C.getters["user/session"]})),ie=(0,l.iH)(C.state.user.avatar);C.state.user.session.id||C.dispatch("user/getSession").then((function(){ie.value=C.state.user.avatar}));var ae=function(){o("collapseChange")},le=function(){_.T.confirm("是否备份数据库?","数据备份提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){k.Z.get("/cl0184941100/mysqldump",{headers:{token:null===d||void 0===d?void 0:d.$toolUtil.storageGet("Token")},responseType:"blob"}).then((function(e){var t=e.data,n=[];n.push(t);var i=window.URL.createObjectURL(new Blob(n,{type:"application/pdf;chartset=UTF-8"})),a=document.createElement("a");a.href=i,a.download="mysql.dmp",a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),window.URL.revokeObjectURL(t),message.message("数据备份成功")}))}))["catch"]((function(e){}))},re=function(){var e=null===d||void 0===d?void 0:d.$toolUtil;C.dispatch("delAllCachedViews"),C.dispatch("delAllVisitedViews"),C.dispatch("user/loginOut"),e.storageClear(),c.replace({name:"login"})},oe=function(){window.open("".concat(d.$config.url,"client/index.html#/index/home"),"_blank")},se=function(){c.push("/".concat(f,"Center"))},ue=function(){c.push("/updatepassword")},ce=(0,l.iH)([]),de=(0,l.iH)(!1),fe=(0,l.iH)(!1),pe=(0,l.iH)(0),ve=(0,l.iH)(""),me=(0,l.iH)(""),he=(0,l.iH)([]),ge=(0,l.iH)({content:""}),we=(0,l.iH)(null),ye=d.$config.url+"file/upload",ke=["yonghu","jiankangzhuanjia"],xe=function(){_e()},be=function(){var e=d.$toolUtil.storageGet("sessionTable");if(ke.includes(e))return!0},_e=function(){d.$http.get("chatfriend/page2",{params:{uid:ne.value.id,type:2}}).then((function(e){e.data&&0==e.data.code&&(ce.value=e.data.data.list,de.value=!0)}))},$e=function(e){pe.value=e.fid,ve.value=e.picture,me.value=e.name,Ce.value=!0,Te(),fe.value=!0},Ce=(0,l.iH)(!0),Te=function e(){d.$http.get("chatmessage/mlist",{params:{page:1,limit:1e3,uid:ne.value.id,fid:pe.value}}).then((function(t){if(t.data&&0==t.data.code){he.value=t.data.data.list;var n=document.getElementsByClassName("chat-content")[0];setTimeout((function(){n&&(n.scrollTop+n.clientHeight==n.scrollHeight||Ce.value)&&(n.scrollTop=n.scrollHeight,Ce.value=!1)}),0),we.value=setTimeout((function(){e()}),5e3)}}))},je=function(){clearTimeout(we.value),he.value=[],_e()},Ue=function(e){0==e.code&&(clearTimeout(we.value),d.$http.post("chatmessage/add",{uid:ne.value.id,fid:pe.value,content:"file/"+e.file,format:2}).then((function(e){ge.value={content:""},Ce.value=!0,Te()})))},De=function(){if(!ge.value.content.trim())return d.$message.error("消息内容不能为空");clearTimeout(we.value),d.$http.post("chatmessage/add",{uid:ne.value.id,fid:pe.value,content:ge.value.content,format:1}).then((function(e){ge.value={content:""},Ce.value=!0,Te()}))},We=(0,l.iH)(!1),He=(0,l.iH)({}),Oe=(0,l.iH)(null),Se=(0,l.iH)(null),Ve=function(){var e=(0,w.Z)((0,g.Z)().mark((function e(){var t,n,i,a;return(0,g.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.$http.get("popupremind/list",{params:{type:"全局"}});case 2:t=e.sent,n=t.data.data.list,i=(0,g.Z)().mark((function e(t){var i;return(0,g.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(new Date>new Date(n[t].remindTime))){e.next=5;break}return e.next=3,d.$http.get("storeup/page",{params:{refid:n[t].id,tablename:"popupremind",type:"61"}});case 3:i=e.sent,i.data.data.list.length||(d.$notify({title:n[t].title,dangerouslyUseHTMLString:!0,message:n[t].brief,duration:0,position:"bottom-right",onClick:function(){He.value=n[t],We.value=!0}}),d.$http.post("storeup/add",{userid:C.getters["user/session"].id,refid:n[t].id,tablename:"popupremind",name:n[t].title,type:"61",picture:""}));case 5:case"end":return e.stop()}}),e)})),e.t0=(0,g.Z)().keys(n);case 6:if((e.t1=e.t0()).done){e.next=11;break}return a=e.t1.value,e.delegateYield(i(a),"t2",9);case 9:e.next=6;break;case 11:Oe.value=setTimeout((function(){Ve()}),1e4);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,w.Z)((0,g.Z)().mark((function e(){var t,n,i,a;return(0,g.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.$http.get("popupremind/page",{params:{type:"私人"}});case 2:t=e.sent,n=t.data.data.list,i=(0,g.Z)().mark((function e(t){var i;return(0,g.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(new Date>new Date(n[t].remindTime))){e.next=5;break}return e.next=3,d.$http.get("storeup/page",{params:{refid:n[t].id,tablename:"popupremind",type:"61"}});case 3:i=e.sent,i.data.data.list.length||(d.$notify({title:n[t].title,dangerouslyUseHTMLString:!0,message:n[t].brief,duration:0,position:"top-right",onClick:function(){He.value=n[t],We.value=!0}}),d.$http.post("storeup/add",{userid:C.getters["user/session"].id,refid:n[t].id,tablename:"popupremind",name:n[t].title,type:"61",picture:""}));case 5:case"end":return e.stop()}}),e)})),e.t0=(0,g.Z)().keys(n);case 6:if((e.t1=e.t0()).done){e.next=11;break}return a=e.t1.value,e.delegateYield(i(a),"t2",9);case 9:e.next=6;break;case 11:Se.value=setTimeout((function(){Pe()}),1e4);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"users"!=d.$toolUtil.storageGet("sessionTable")&&(Ve(),Pe()),(0,i.Jd)((function(){clearTimeout(Oe.value),clearTimeout(Se.value)})),function(e,t){var a=(0,i.up)("Fold"),o=(0,i.up)("Expand"),s=(0,i.up)("el-icon"),u=(0,i.up)("arrow-down"),d=(0,i.up)("el-dropdown-item"),f=(0,i.up)("el-dropdown-menu"),v=(0,i.up)("el-dropdown"),h=(0,i.up)("el-dialog"),g=(0,i.up)("el-alert"),w=(0,i.up)("el-image"),k=(0,i.up)("el-input"),_=(0,i.up)("el-button"),$=(0,i.up)("el-upload"),pe=(0,i.up)("el-breadcrumb-item"),we=(0,i.up)("el-breadcrumb");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",T,[(0,i._)("div",j,[(0,i._)("div",{class:(0,r.C_)(["fold_view",{is_collapse:(0,l.SU)(x)}]),onClick:ae},[(0,i.Wm)(s,{class:"icons"},{default:(0,i.w5)((function(){return[(0,l.SU)(x)?((0,i.wg)(),(0,i.j4)(o,{key:1})):((0,i.wg)(),(0,i.j4)(a,{key:0}))]})),_:1})],2)]),U,(0,i._)("div",D,[(0,i.Wm)(v,{class:"avatar-container",trigger:"hover"},{dropdown:(0,i.w5)((function(){return[(0,i.Wm)(f,{class:"user-dropDown",slot:"dropdown"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{class:"center",onClick:se},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 个人中心 ")]})),_:1}),be()?((0,i.wg)(),(0,i.j4)(d,{key:0,class:"chatRecord"},{default:(0,i.w5)((function(){return[(0,i._)("span",{style:{display:"block"},onClick:xe},"聊天记录")]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(d,{class:"password",onClick:ue},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 修改密码 ")]})),_:1}),(0,i.Wm)(d,{class:"front"},{default:(0,i.w5)((function(){return[(0,i._)("span",{style:{display:"block"},onClick:oe},"系统前台")]})),_:1}),"管理员"==(0,l.SU)(p)?((0,i.wg)(),(0,i.j4)(d,{key:1,class:"backUp"},{default:(0,i.w5)((function(){return[(0,i._)("span",{style:{display:"block"},onClick:le},"数据备份")]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(d,{class:"loginOut"},{default:(0,i.w5)((function(){return[(0,i._)("span",{style:{display:"block"},onClick:re},"退出登录")]})),_:1})]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i._)("div",W,[(0,i._)("div",H,"欢迎 "+(0,r.zw)(e.$toolUtil.storageGet("adminName")),1),(0,i._)("img",{class:"user-avatar",src:(0,l.SU)(C).getters["user/avatar"]},null,8,O),(0,i.Wm)(s,{class:"el-icon-arrow-down"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u)]})),_:1})])]})),_:1})]),(0,i.Wm)(h,{modelValue:de.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return de.value=e}),title:"聊天记录","append-to-body":!0},{default:(0,i.w5)((function(){return[(0,i._)("div",S,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(ce.value,(function(t){return(0,i.wg)(),(0,i.iD)("div",{class:"section-content",key:t.id,onClick:function(e){return $e(t)}},[(0,i._)("img",{src:t.picture?e.$config.url+t.picture:n(20612),style:{width:"60px","border-radius":"50%"},alt:""},null,8,P),(0,i._)("div",M,[(0,i._)("div",L,(0,r.zw)(t.name),1),(0,i._)("div",{style:(0,r.j5)({color:"#666",flex:"1",fontSize:"14px",lineHeight:"1.5",display:"flex",alignItems:"center"}),class:"item-style"},[t.notreadnum?((0,i.wg)(),(0,i.iD)("div",Z,(0,r.zw)(t.notreadnum),1)):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,r.zw)(t.content.split("/").length&&"upload"==t.content.split("/")[0]?"[图片]":t.content),1)],4)])],8,V)})),128)),ce.value.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",z," 暂无聊天记录 "))])]})),_:1},8,["modelValue"]),(0,i.Wm)(h,{modelValue:fe.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return fe.value=e}),onClose:je,title:me.value,"append-to-body":!0},{default:(0,i.w5)((function(){return[(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(he.value,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{key:t.id},[a>1&&(0,l.SU)(b())(he.value[a-1].addtime).date()!=(0,l.SU)(b())(t.addtime).date()||0==a?((0,i.wg)(),(0,i.iD)("div",A,(0,r.zw)((0,l.SU)(b())(t.addtime).format("MM-DD HH:mm")),1)):(0,i.kq)("",!0),t.uid==(0,l.SU)(ne).id?((0,i.wg)(),(0,i.iD)("div",I,[1==t.format?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"text-content",title:t.content,closable:!1,type:"warning"},null,8,["title"])):t.content.endsWith(".mp4")?((0,i.wg)(),(0,i.iD)("video",E,[(0,i._)("source",{src:e.$config.url+t.content},null,8,N)])):((0,i.wg)(),(0,i.j4)(w,{key:2,fit:"cover",src:t.content?e.$config.url+t.content:"",style:{width:"100px",height:"100px"},"preview-src-list":[t.content?e.$config.url+t.content:""]},null,8,["src","preview-src-list"])),(0,i._)("img",{src:ie.value?e.$config.url+ie.value:n(20612),alt:"",style:{width:"30px","border-radius":"50%",height:"30px",margin:"0 0 0 10px","flex-shrink":"0","object-fit":"cover"}},null,8,Y)])):((0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("img",{src:ve.value?e.$config.url+ve.value:n(20612),alt:"",style:{width:"30px","border-radius":"50%",height:"30px",margin:"0 10px 0 0","flex-shrink":"0","object-fit":"cover"}},null,8,F),1==t.format?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"text-content",title:t.content,closable:!1,type:"success"},null,8,["title"])):t.content.endsWith(".mp4")?((0,i.wg)(),(0,i.iD)("video",K,[(0,i._)("source",{src:e.$config.url+t.content},null,8,B)])):((0,i.wg)(),(0,i.j4)(w,{key:2,fit:"cover",src:t.content?e.$config.url+t.content:"",style:{width:"100px",height:"100px"},"preview-src-list":[t.content?e.$config.url+t.content:""]},null,8,["src","preview-src-list"]))])),G])})),128))]),(0,i._)("div",J,[(0,i.Wm)(k,{onKeydown:(0,y.D2)(De,["enter","native"]),modelValue:ge.value.content,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ge.value.content=e}),placeholder:"请输入内容",style:{width:"calc(100% - 180px)",float:"left",border:"1px solid #ccc","border-radius":"4px",padding:"0 10px","margin-right":"4px"}},null,8,["onKeydown","modelValue"]),(0,i.Wm)(_,{disabled:!ge.value.content,type:"primary",onClick:De},{default:(0,i.w5)((function(){return[(0,i.Uk)("发送")]})),_:1},8,["disabled"]),(0,i.Wm)($,{style:{display:"inline-block",margin:"0 0 0 6px"},class:"upload-demo",action:ye,"on-success":Ue,"show-file-list":!1,accept:"image/*,.mp4"},{default:(0,i.w5)((function(){return[(0,i.Wm)(_,{type:"success"},{default:(0,i.w5)((function(){return[(0,i.Uk)("上传文件")]})),_:1})]})),_:1})])]})),_:1},8,["modelValue","title"]),(0,i.Wm)(h,{title:He.value.title,"append-to-body":!0,modelValue:We.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return We.value=e}),width:"60%"},{default:(0,i.w5)((function(){return[(0,i._)("div",{innerHTML:He.value.content},null,8,X)]})),_:1},8,["title","modelValue"])]),(0,i._)("div",Q,[(0,i.Wm)(we,{separator:"───"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,l.SU)(m),(function(e,t){return(0,i.wg)(),(0,i.j4)(pe,{key:e.path},{default:(0,i.w5)((function(){return[t?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",ee)),(0,i._)("span",{onClick:function(t){return(0,l.SU)(c).push(e.path)}},(0,r.zw)(e.name),9,te)]})),_:2},1024)})),128))]})),_:1})])],64)}}},ie=(0,v.Z)(ne,[["__scopeId","data-v-1f46f1f2"]]),ae=ie;var le={id:"tags-view-container",class:"tags-view-container"};function re(e,t,n,a,l,o){var s=(0,i.up)("Close"),u=(0,i.up)("el-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("scroll-pane");return(0,i.wg)(),(0,i.iD)("div",le,[(0,i.Wm)(d,{ref:"scrollPane",class:"tags-view-wrapper"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.visitedViews,(function(e){return(0,i.wg)(),(0,i.j4)(c,{ref_for:!0,ref:"tag",key:e.path,class:(0,r.C_)([o.isActive(e)?"active":"","tags-view-item"]),to:{path:e.path,query:e.query,fullPath:e.fullPath},tag:"span",onMouseup:(0,y.iM)((function(t){return o.closeSelectedTag(e)}),["middle"]),onContextmenu:(0,y.iM)((function(t){return o.openMenu(e,t)}),["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.meta.title||e.name)+" ",1),e.meta.affix?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:0,class:"el-icon-close",onClick:(0,y.iM)((function(t){return o.closeSelectedTag(e)}),["prevent","stop"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(s)]})),_:2},1032,["onClick"]))]})),_:2},1032,["class","to","onMouseup","onContextmenu"])})),128))]})),_:1},512),(0,i.wy)((0,i._)("ul",{style:(0,r.j5)({left:l.left+"px",top:l.top+"px"}),class:"contextmenu"},[l.selectedTag.meta&&l.selectedTag.meta.affix?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("li",{key:0,onClick:t[0]||(t[0]=function(e){return o.closeSelectedTag(l.selectedTag)})},"Close")),(0,i._)("li",{onClick:t[1]||(t[1]=function(e){return o.closeAllTags(l.selectedTag)})},"Close All")],4),[[y.F8,l.visible]])])}var oe=n(95347),se=n(82010),ue=(n(32294),n(10264),n(15858),n(40732),n(76667),n(40956),n(29089),n(50545),n(52947),n(21721));function ce(e,t,n){return t=(0,ue.Z)(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(40275),n(95275);function pe(e,t,n,a,l,r){var o=(0,i.up)("el-scrollbar");return(0,i.wg)(),(0,i.j4)(o,{ref:"scrollContainer",vertical:!1,class:"scroll-container",onWheel:(0,y.iM)(r.handleScroll,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.WI)(e.$slots,"default",{},void 0,!0)]})),_:3},8,["onWheel"])}n(1445);var ve=4;const me={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer}},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,n=this.scrollWrapper;n.scrollLeft=n.scrollLeft+t/4},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,n=t.offsetWidth,i=this.scrollWrapper,a=this.$parent.$refs.tag,l=null,r=null;if(a.length>0&&(l=a[0],r=a[a.length-1]),l===e)i.scrollLeft=0;else if(r===e)i.scrollLeft=i.scrollWidth-n;else{var o=a.findIndex((function(t){return t===e})),s=a[o-1],u=a[o+1],c=u.$el.offsetLeft+u.$el.offsetWidth+ve,d=s.$el.offsetLeft-ve;c>i.scrollLeft+n?i.scrollLeft=c-n:d<i.scrollLeft&&(i.scrollLeft=d)}}}},he=(0,v.Z)(me,[["render",pe],["__scopeId","data-v-44ed0625"]]),ge=he,we={components:{ScrollPane:ge},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.visitedViews},routes:function(){return this.$store.state.routes}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.$store.dispatch("updateSideMenus"),this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},filterAffixTags:function(e){var t=this,n=[];return e.forEach((function(e){if(e.meta&&e.meta.affix&&n.push({fullPath:"/",path:"/",name:e.name,meta:fe({},e.meta)}),e.children){var i=t.filterAffixTags(e.children,e.path);i.length>=1&&(n=[].concat((0,se.Z)(n),(0,se.Z)(i)))}})),n},initTags:function(){var e,t=this.affixTags=this.filterAffixTags(this.routes),n=(0,oe.Z)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.name&&this.$store.dispatch("addVisitedView",i)}}catch(a){n.e(a)}finally{n.f()}},addTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var n,i=(0,oe.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.to.path===e.$route.path){e.$refs.scrollPane.moveToTarget(a),a.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("updateVisitedView",e.$route);break}}}catch(l){i.e(l)}finally{i.f()}}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delView",e).then((function(n){var i=n.visitedViews;t.isActive(e)&&t.toLastView(i,e)}))},closeAllTags:function(e){var t=this;this.$store.dispatch("delAllViews").then((function(n){var i=n.visitedViews;t.affixTags.some((function(t){return t.path===e.path}))||t.toLastView(i,e)}))},toLastView:function(e,t){var n=e.slice(-1)[0];if("首页"==n.name)return this.$router.push("/"),!1;n?this.$router.push(n):"首页"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var n=105,i=this.$el.getBoundingClientRect().left,a=this.$el.offsetWidth,l=a-n,r=t.clientX-i+15;this.left=r>l?l:r,this.top=36,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1}}},ye=(0,v.Z)(we,[["render",re],["__scopeId","data-v-cfc71f5e"]]),ke=ye;n(81200);var xe={style:{height:"100%"}};const be={__name:"indexMain",setup:function(e){null===(t=(0,i.FN)())||void 0===t||t.appContext.config.globalProperties;var t,n=(0,l.iH)(!1),a=function(){n.value=!n.value};(0,l.iH)(null),(0,l.iH)("");return function(e,t){var o=(0,i.up)("router-view"),s=(0,i.up)("el-main");return(0,i.wg)(),(0,i.iD)("div",xe,[(0,i.Wm)((0,l.SU)(h),{collapse:n.value,class:(0,r.C_)(n.value?"index-aside-collapse":"index-aside")},null,8,["collapse","class"]),(0,i.Wm)(s,{class:(0,r.C_)(["main_view main-container index_transition",n.value?"main_view-collapse":""]),style:{"max-width":"100%"}},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(ae),{class:"index_header index_transition",collapse:n.value,onCollapseChange:a,style:{width:"100%","max-width":"100%"}},null,8,["collapse"]),(0,i.Wm)((0,l.SU)(ke),{class:"index_tags",style:{width:"100%","max-width":"100%"}}),(0,i.Wm)(o,{class:"router-view index_transition"})]})),_:1},8,["class"])])}}},_e=(0,v.Z)(be,[["__scopeId","data-v-49278d56"]]),$e=_e,Ce={name:"indexView",components:{indexMain:$e}},Te=(0,v.Z)(Ce,[["render",a],["__scopeId","data-v-560d729c"]]),je=Te},76394:(e,t,n)=>{var i={"./chat/list.vue":[4118],"./chatFriend/list.vue":[95210,210],"./chatMessage/list.vue":[29674,674],"./config/list.vue":[96593],"./discussjiankangshipu/list.vue":[10363],"./discussjiankangzhishi/list.vue":[44008],"./jiankangdangan/list.vue":[42335],"./jiankangmubiao/list.vue":[14380],"./jiankangshipu/list.vue":[94781],"./jiankangshuju/list.vue":[27585],"./jiankangzhishi/list.vue":[9134],"./jiankangzhuanjia/list.vue":[30395],"./jianshenjihua/list.vue":[56231],"./menu_manage/list.vue":[67391,391],"./news/list.vue":[7323],"./onlineMessage/list.vue":[90207],"./popupRemind/list.vue":[39702],"./storeup/list.vue":[38196],"./syslog/list.vue":[21645],"./systemintro/list.vue":[90335],"./users/list.vue":[3363],"./yinshijilu/list.vue":[17553],"./yonghu/list.vue":[60042],"./yongyaoguanli/list.vue":[74921]};function a(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(a)))}a.keys=()=>Object.keys(i),a.id=76394,e.exports=a}}]);
//# sourceMappingURL=415.35b14181.js.map