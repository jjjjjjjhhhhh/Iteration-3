{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/web.timers.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.parse-float.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nvar _vue = require(\"vue\");\nrequire(\"@/assets/js/echarts-theme\");\nvar _default = {\n  __name: 'HomeView',\n  setup: function setup(__props, _ref) {\n    var _getCurrentInstance;\n    var expose = _ref.expose;\n    expose();\n    var context = (_getCurrentInstance = (0, _vue.getCurrentInstance)()) === null || _getCurrentInstance === void 0 ? void 0 : _getCurrentInstance.appContext.config.globalProperties;\n    var projectName = context.$project.projectName;\n    var countTypeList = (0, _vue.ref)({});\n    var getCountList = function getCountList() {\n      countTypeList.value.closeyonghuCountType = true;\n      countTypeList.value.hiddenyonghuCountType = true;\n      if (btnAuth('yonghu', '首页总数')) {\n        getyonghuCount();\n      }\n      countTypeList.value.closejiankangzhishiCountType = true;\n      countTypeList.value.hiddenjiankangzhishiCountType = true;\n      if (btnAuth('jiankangzhishi', '首页总数')) {\n        getjiankangzhishiCount();\n      }\n    };\n    var yonghuCount = (0, _vue.ref)(0);\n    var getyonghuCount = function getyonghuCount() {\n      context === null || context === void 0 ? void 0 : context.$http({\n        url: 'yonghu/count',\n        method: 'get'\n      }).then(function (res) {\n        yonghuCount.value = res.data.data;\n      });\n    };\n    var jiankangzhishiCount = (0, _vue.ref)(0);\n    var getjiankangzhishiCount = function getjiankangzhishiCount() {\n      context === null || context === void 0 ? void 0 : context.$http({\n        url: 'jiankangzhishi/count',\n        method: 'get'\n      }).then(function (res) {\n        jiankangzhishiCount.value = res.data.data;\n      });\n    };\n    var countTypeClick = function countTypeClick(e) {\n      countTypeList.value[e] = !countTypeList.value[e];\n    };\n    //权限验证\n    var btnAuth = function btnAuth(e, a) {\n      return context === null || context === void 0 ? void 0 : context.$toolUtil.isAuth(e, a);\n    };\n    var echarts = (0, _vue.inject)(\"echarts\");\n    var cardTypeClick = function cardTypeClick(e) {\n      cardTypeList.value[e] = !cardTypeList.value[e];\n      setTimeout(function () {\n        getCardList();\n      }, 1000);\n    };\n    var cardTypeList = (0, _vue.ref)({\n      closeyonghuChartType1: true,\n      hiddenyonghuChartType1: true,\n      closejiankangzhishiChartType1: true,\n      hiddenjiankangzhishiChartType1: true\n    });\n    var getCardList = function getCardList() {\n      if (btnAuth('yonghu', '首页统计')) {\n        getyonghuChart1();\n      }\n      if (btnAuth('jiankangzhishi', '首页统计')) {\n        getjiankangzhishiChart1();\n      }\n    };\n    var getyonghuChart1 = function getyonghuChart1() {\n      (0, _vue.nextTick)(function () {\n        var xingbieEchart1 = echarts.init(document.getElementById(\"yonghuxingbieEchart1\"), 'theme');\n        context === null || context === void 0 ? void 0 : context.$http({\n          url: \"yonghu/group/xingbie\",\n          method: \"get\"\n        }).then(function (obj) {\n          var res = obj.data.data;\n          var xAxis = [];\n          var yAxis = [];\n          var dataList = [];\n          for (var i = 0; i < res.length; i++) {\n            xAxis.push(res[i].xingbie);\n            yAxis.push(parseFloat(res[i].total));\n            dataList.push({\n              value: parseFloat(res[i].total),\n              name: res[i].xingbie\n            });\n          }\n          var option = {};\n          option = {\n            title: {\n              text: 'User statistics',\n              left: 'center'\n            },\n            legend: {\n              orient: 'vertical',\n              left: 'left'\n            },\n            tooltip: {\n              trigger: 'item',\n              formatter: '{b} : {c} ({d}%)'\n            },\n            series: [{\n              left: '20%',\n              type: 'pie',\n              radius: '55%',\n              center: ['50%', '60%'],\n              data: dataList,\n              emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              }\n            }]\n          };\n          xingbieEchart1.clear();\n          // 使用刚指定的配置项和数据显示图表。\n          xingbieEchart1.setOption(option);\n          //根据窗口的大小变动图表\n          xingbieEchart1.resize();\n        });\n      });\n    };\n    var getjiankangzhishiChart1 = function getjiankangzhishiChart1() {\n      (0, _vue.nextTick)(function () {\n        var storeupNumberEchart1 = echarts.init(document.getElementById(\"jiankangzhishistoreupNumberEchart1\"), 'theme');\n        context === null || context === void 0 ? void 0 : context.$http({\n          url: \"jiankangzhishi/value/biaoti/storeupNumber?order=desc\",\n          method: \"get\"\n        }).then(function (obj) {\n          var res = obj.data.data;\n          var xAxis = [];\n          var yAxis = [];\n          var dataList = [];\n          for (var i = 0; i < res.length; i++) {\n            xAxis.push(res[i].biaoti);\n            yAxis.push(parseFloat(res[i].total));\n            dataList.push({\n              value: parseFloat(res[i].total),\n              name: res[i].biaoti\n            });\n          }\n          var option = {};\n          option = {\n            title: {\n              text: '热门健康知识统计',\n              left: 'center'\n            },\n            tooltip: {\n              trigger: 'item',\n              formatter: '{b} : {c}'\n            },\n            xAxis: {\n              data: xAxis,\n              type: 'category',\n              axisLabel: {\n                interval: 0,\n                rotate: 30\n              }\n            },\n            yAxis: {\n              type: 'value',\n              minInterval: 1\n            },\n            series: {\n              data: yAxis,\n              type: 'bar',\n              barWidth: '20px',\n              itemStyle: {\n                borderRadius: [4, 4, 4, 4]\n              }\n            }\n          };\n          storeupNumberEchart1.clear();\n          // 使用刚指定的配置项和数据显示图表。\n          storeupNumberEchart1.setOption(option);\n          //根据窗口的大小变动图表\n          storeupNumberEchart1.resize();\n        });\n      });\n    };\n    var init = function init() {\n      getCountList();\n      getCardList();\n    };\n    init();\n    var __returned__ = {\n      context: context,\n      projectName: projectName,\n      countTypeList: countTypeList,\n      getCountList: getCountList,\n      yonghuCount: yonghuCount,\n      getyonghuCount: getyonghuCount,\n      jiankangzhishiCount: jiankangzhishiCount,\n      getjiankangzhishiCount: getjiankangzhishiCount,\n      countTypeClick: countTypeClick,\n      btnAuth: btnAuth,\n      get echarts() {\n        return echarts;\n      },\n      set echarts(v) {\n        echarts = v;\n      },\n      cardTypeClick: cardTypeClick,\n      cardTypeList: cardTypeList,\n      getCardList: getCardList,\n      getyonghuChart1: getyonghuChart1,\n      getjiankangzhishiChart1: getjiankangzhishiChart1,\n      init: init,\n      inject: _vue.inject,\n      nextTick: _vue.nextTick,\n      ref: _vue.ref,\n      getCurrentInstance: _vue.getCurrentInstance\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};\nexports[\"default\"] = _default;","map":{"version":3,"mappings":"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","names":["context","appContext","config","globalProperties","projectName","$project","countTypeList","getCountList","value","closeyonghuCountType","hiddenyonghuCountType","btnAuth","getyonghuCount","closejiankangzhishiCountType","hiddenjiankangzhishiCountType","getjiankangzhishiCount","yonghuCount","$http","url","method","then","res","data","jiankangzhishiCount","countTypeClick","e","a","$toolUtil","isAuth","echarts","cardTypeClick","cardTypeList","setTimeout","getCardList","closeyonghuChartType1","hiddenyonghuChartType1","closejiankangzhishiChartType1","hiddenjiankangzhishiChartType1","getyonghuChart1","getjiankangzhishiChart1","xingbieEchart1","init","document","getElementById","obj","xAxis","yAxis","dataList","i","length","push","xingbie","parseFloat","total","name","option","title","text","left","legend","orient","tooltip","trigger","formatter","series","type","radius","center","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","clear","setOption","resize","storeupNumberEchart1","biaoti","axisLabel","interval","rotate","minInterval","barWidth","borderRadius"],"sources":["C:/Users/24831/Desktop/Y/毕业设计/projectB/迭代2/manage_code/src/views/HomeView.vue"],"sourcesContent":["<template>\n\t<div class=\"home_view\">\n\t\t<div class=\"projectTitle\">Welcome to use {{projectName}}</div>\n\t\t<div class=\"count_list\">\n\t\t\t<el-collapse-transition v-if=\"btnAuth('yonghu','首页总数')\">\n\t\t\t\t<el-card v-show=\"countTypeList.closeyonghuCountType\" class=\"card_view count-item\">\n\t\t\t\t\t<template #header>\n\t\t\t\t\t\t<div class=\"index_card_head\">\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\n\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('hiddenyonghuCountType')\" class=\"showIcons\"\n\t\t\t\t\t\t\t\t\t:class=\"countTypeList.hiddenyonghuCountType?'showIcons1':''\">\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('closeyonghuCountType')\" class=\"closeIcons\">\n\t\t\t\t\t\t\t\t\t<CloseBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<el-collapse-transition>\n\t\t\t\t\t\t<div class=\"count_item\" v-show=\"countTypeList.hiddenyonghuCountType\">\n\t\t\t\t\t\t\t<div class=\"count_title\">Total number of users</div>\n\t\t\t\t\t\t\t<div class=\"count_num\">{{yonghuCount}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-collapse-transition>\n\t\t\t\t</el-card>\n\t\t\t</el-collapse-transition>\n\t\t\t<el-collapse-transition v-if=\"btnAuth('jiankangzhishi','首页总数')\">\n\t\t\t\t<el-card v-show=\"countTypeList.closejiankangzhishiCountType\" class=\"card_view count-item\">\n\t\t\t\t\t<template #header>\n\t\t\t\t\t\t<div class=\"index_card_head\">\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\n\t\t\t\t\t\t\t\tHealth knowledge\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('hiddenjiankangzhishiCountType')\" class=\"showIcons\"\n\t\t\t\t\t\t\t\t\t:class=\"countTypeList.hiddenjiankangzhishiCountType?'showIcons1':''\">\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t\t<el-icon @click=\"countTypeClick('closejiankangzhishiCountType')\" class=\"closeIcons\">\n\t\t\t\t\t\t\t\t\t<CloseBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<el-collapse-transition>\n\t\t\t\t\t\t<div class=\"count_item\" v-show=\"countTypeList.hiddenjiankangzhishiCountType\">\n\t\t\t\t\t\t\t<div class=\"count_title\">Total amount of health knowledge</div>\n\t\t\t\t\t\t\t<div class=\"count_num\">{{jiankangzhishiCount}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-collapse-transition>\n\t\t\t\t</el-card>\n\t\t\t</el-collapse-transition>\n\t\t</div>\n\t\t<div class=\"card_list\">\n\t\t\t<el-collapse-transition v-if=\"btnAuth('yonghu','首页统计')\">\n\t\t\t\t<el-card v-show=\"cardTypeList.closeyonghuChartType1\" class=\"card_view chart-item\">\n\t\t\t\t\t<template #header>\n\t\t\t\t\t\t<div class=\"index_card_head\">\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\n\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('hiddenyonghuChartType1')\" class=\"showIcons\"\n\t\t\t\t\t\t\t\t\t\t :class=\"cardTypeList.hiddenyonghuChartType1?'showIcons1':''\">\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('closeyonghuChartType1')\" class=\"closeIcons\">\n\t\t\t\t\t\t\t\t\t<CloseBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<el-collapse-transition>\n\t\t\t\t\t\t<div class=\"card_item\" v-show=\"cardTypeList.hiddenyonghuChartType1\">\n\t\t\t\t\t\t\t<div id=\"yonghuxingbieEchart1\" class=\"Echart\" style=\"width: 100%;height: 400px;\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-collapse-transition>\n\t\t\t\t</el-card>\n\t\t\t</el-collapse-transition>\n\t\t\t<el-collapse-transition v-if=\"btnAuth('jiankangzhishi','首页统计')\">\n\t\t\t\t<el-card v-show=\"cardTypeList.closejiankangzhishiChartType1\" class=\"card_view chart-item\">\n\t\t\t\t\t<template #header>\n\t\t\t\t\t\t<div class=\"index_card_head\">\n\t\t\t\t\t\t\t<div class=\"card_head_title\">\n\t\t\t\t\t\t\t\tHealth knowledge\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"card_head_right\">\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('hiddenjiankangzhishiChartType1')\" class=\"showIcons\"\n\t\t\t\t\t\t\t\t\t\t :class=\"cardTypeList.hiddenjiankangzhishiChartType1?'showIcons1':''\">\n\t\t\t\t\t\t\t\t\t<ArrowUpBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t\t<el-icon @click=\"cardTypeClick('closejiankangzhishiChartType1')\" class=\"closeIcons\">\n\t\t\t\t\t\t\t\t\t<CloseBold />\n\t\t\t\t\t\t\t\t</el-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<el-collapse-transition>\n\t\t\t\t\t\t<div class=\"card_item\" v-show=\"cardTypeList.hiddenjiankangzhishiChartType1\">\n\t\t\t\t\t\t\t<div id=\"jiankangzhishistoreupNumberEchart1\" class=\"Echart\" style=\"width: 100%;height: 400px;\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-collapse-transition>\n\t\t\t\t</el-card>\n\t\t\t</el-collapse-transition>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\timport {\n\t\tinject,\n\t\tnextTick,\n\t\tref,\n\t\tgetCurrentInstance\n\t} from 'vue';\n\tconst context = getCurrentInstance()?.appContext.config.globalProperties;\n\tconst projectName = context.$project.projectName\n\tconst countTypeList = ref({\n\t})\n\tconst getCountList=()=>{\n\t\tcountTypeList.value.closeyonghuCountType = true\n\t\tcountTypeList.value.hiddenyonghuCountType = true\n\t\tif(btnAuth('yonghu','首页总数')){\n\t\t\tgetyonghuCount()\n\t\t}\n\t\tcountTypeList.value.closejiankangzhishiCountType = true\n\t\tcountTypeList.value.hiddenjiankangzhishiCountType = true\n\t\tif(btnAuth('jiankangzhishi','首页总数')){\n\t\t\tgetjiankangzhishiCount()\n\t\t}\n\t}\n\tconst yonghuCount = ref(0)\n\tconst getyonghuCount = () => {\n\t\tcontext?.$http({\n\t\t\turl:'yonghu/count',\n\t\t\tmethod: 'get'\n\t\t}).then(res=>{\n\t\t\tyonghuCount.value = res.data.data\n\t\t})\n\t}\n\tconst jiankangzhishiCount = ref(0)\n\tconst getjiankangzhishiCount = () => {\n\t\tcontext?.$http({\n\t\t\turl:'jiankangzhishi/count',\n\t\t\tmethod: 'get'\n\t\t}).then(res=>{\n\t\t\tjiankangzhishiCount.value = res.data.data\n\t\t})\n\t}\n\tconst countTypeClick = (e) => {\n\t\tcountTypeList.value[e] = !countTypeList.value[e]\n\t}\n\t//权限验证\n\tconst btnAuth = (e,a)=>{\n\t\treturn context?.$toolUtil.isAuth(e,a)\n\t}\n\tlet echarts = inject(\"echarts\")\n\tconst cardTypeClick = (e) =>{\n\t\tcardTypeList.value[e] = !cardTypeList.value[e]\n\t\tsetTimeout(()=>{\n\t\t\tgetCardList()\n\t\t},1000)\n\t}\n\tconst cardTypeList = ref({\n\t\tcloseyonghuChartType1: true,\n\t\thiddenyonghuChartType1: true,\n\t\tclosejiankangzhishiChartType1: true,\n\t\thiddenjiankangzhishiChartType1: true,\n\t})\n\tconst getCardList = () => {\n\t\tif(btnAuth('yonghu','首页统计')){\n\t\t\tgetyonghuChart1()\n\t\t}\n\t\tif(btnAuth('jiankangzhishi','首页统计')){\n\t\t\tgetjiankangzhishiChart1()\n\t\t}\n\t}\n\timport '@/assets/js/echarts-theme'\n\tconst getyonghuChart1 = () => {\n\t\tnextTick(()=>{\n\t\t\tvar xingbieEchart1 = echarts.init(document.getElementById(\"yonghuxingbieEchart1\"),'theme');\n\t\t\tcontext?.$http({\n\t\t\t\turl: \"yonghu/group/xingbie\",\n\t\t\t\tmethod: \"get\",\n\t\t\t}).then(obj=>{\n\t\t\t\tlet res = obj.data.data\n\t\t\t\tlet xAxis = [];\n\t\t\t\tlet yAxis = [];\n\t\t\t\tlet dataList = []\n\t\t\t\tfor(let i=0;i<res.length;i++){\n\t\t\t\t    xAxis.push(res[i].xingbie);\n\t\t\t\t    yAxis.push(parseFloat((res[i].total)));\n\t\t\t\t\tdataList.push({\n\t\t\t\t        value: parseFloat((res[i].total)),\n\t\t\t\t        name: res[i].xingbie\n\t\t\t\t    })\n\t\t\t\t}\n\t\t\t\tvar option = {};\n\t\t\t\toption = {\n    title:{\n        text: 'User statistics',\n        left: 'center'\n    },\n    legend: {\n        orient: 'vertical',\n        left: 'left'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '{b} : {c} ({d}%)'\n    },\n    series: [\n        {\n            left: '20%',\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: dataList,\n            emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n            }\n        }\n    ]\n}\n\t\t\t\txingbieEchart1.clear()\n\t\t\t\t// 使用刚指定的配置项和数据显示图表。\n\t\t\t\txingbieEchart1.setOption(option);\n\t\t\t\t//根据窗口的大小变动图表\n\t\t\t\txingbieEchart1.resize();\n\t\t\t})\n\t\t})\n\t}\n\tconst getjiankangzhishiChart1 = () => {\n\t\tnextTick(()=>{\n\t\t\tvar storeupNumberEchart1 = echarts.init(document.getElementById(\"jiankangzhishistoreupNumberEchart1\"),'theme');\n\t\t\tcontext?.$http({\n\t\t\t\turl: `jiankangzhishi/value/biaoti/storeupNumber?order=desc`,\n\t\t\t\tmethod: \"get\",\n\t\t\t}).then(obj=>{\n\t\t\t\tlet res = obj.data.data\n\t\t\t\tlet xAxis = [];\n\t\t\t\tlet yAxis = [];\n\t\t\t\tlet dataList = []\n\t\t\t\tfor(let i=0;i<res.length;i++){\n\t\t\t\t    xAxis.push(res[i].biaoti);\n\t\t\t\t    yAxis.push(parseFloat((res[i].total)));\n\t\t\t\t\tdataList.push({\n\t\t\t\t        value: parseFloat((res[i].total)),\n\t\t\t\t        name: res[i].biaoti\n\t\t\t\t    })\n\t\t\t\t}\n\t\t\t\tvar option = {};\n\t\t\t\toption = {\n    title: {\n        text: '热门健康知识统计',\n        left: 'center'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '{b} : {c}'\n    },\n    xAxis: {\n        data: xAxis,\n        type: 'category',\n        axisLabel: {\n        interval: 0,\n        rotate: 30\n        }\n    },\n    yAxis: {\n        type: 'value',\n        minInterval: 1\n    },\n    series:{\n        data: yAxis,\n        type: 'bar',\n        barWidth:'20px',\n        itemStyle: {\n            borderRadius:[4, 4, 4, 4]\n        }\n      \n    }\n}\n\n\t\t\t\tstoreupNumberEchart1.clear()\n\t\t\t\t// 使用刚指定的配置项和数据显示图表。\n\t\t\t\tstoreupNumberEchart1.setOption(option);\n\t\t\t\t//根据窗口的大小变动图表\n\t\t\t\tstoreupNumberEchart1.resize();\n\t\t\t})\n\t\t})\n\t}\n\n\tconst init=()=>{\n\t\tgetCountList()\n\t\tgetCardList()\n\t}\n\tinit()\n</script>\n<style lang=\"scss\" scoped>\n\t// 首页盒子\n\t.home_view {\n        background-image: url(\"http://clfile.zggen.cn/20240915/2ba09c686491481982bda72452d5ca8f.webp\")!important;\n\t}\n\t.home_view .projectTitle{\n\t}\n\n\t.showIcons {\n\t\ttransition: transform 0.3s;\n\t\tmargin-right: 10px;\n\t}\n\n\t.showIcons1 {\n\t\ttransform: rotate(-180deg);\n\t}\n\t\n\t// 总数盒子\n\t.count_list{\n\t\t// 总数card\n\t\t.card_view {\n\t\t\t// card头部\n\t\t\t.el-card__header {\n\t\t\t\t// 头部盒子\n\t\t\t\t.index_card_head {\n\t\t\t\t\t// 标题\n\t\t\t\t\t.card_head_title {\n\t\t\t\t\t}\n\t\t\t\t\t// 按钮盒子\n\t\t\t\t\t.card_head_right {\n\t\t\t\t\t\t// 按钮\n\t\t\t\t\t\t.el-icon {\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// body\n\t\t\t.el-card__body {\n\t\t\t\t// body盒子\n\t\t\t\t.count_item{\n\t\t\t\t\t// 总数标题\n\t\t\t\t\t.count_title{\n\t\t\t\t\t}\n\t\t\t\t\t// 总数数字\n\t\t\t\t\t.count_num{\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 统计图盒子\n\t.card_list {\n\t\t// 统计图card\n\t\t.card_view {\n\t\t\t// 头部\n\t\t\t.el-card__header {\n\t\t\t\t// 头部盒子\n\t\t\t\t.index_card_head {\n\t\t\t\t\t// 标题\n\t\t\t\t\t.card_head_title {\n\t\t\t\t\t}\n\t\t\t\t\t// 按钮盒子\n\t\t\t\t\t.card_head_right {\n\t\t\t\t\t\t// 按钮\n\t\t\t\t\t\t.el-icon{\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// body\n\t\t\t.el-card__body {\n\t\t\t\t// body盒子\n\t\t\t\t.card_item{\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>\n<style>\n/*总盒子*/\n.home_view{\n    padding: 20px 30px 20px 40px;\n    margin: 0px;\n    height: auto;\n    min-height: 100vh;\n    background: url() no-repeat center top / cover !important;\n    width: 100%;\n    border-radius: 0px;\n    display:flex;\n    flex-wrap:wrap;\n    align-items:flex-start;\n}\n.home_view .projectTitle{\n    width: 100%;\n    font-size: 26px;\n    font-weight: bold;\n    padding: 40px 0px 20px;\n    height: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0px 0px 20px;\n    color: rgb(55, 55, 55);\n}\n\n/*总数*/\n/*总盒子*/\n.home_view .count_list {\n    display:flex;\n    flex-wrap:wrap;\n    justify-content:center;\n    padding:0px 0px 20px;\n    width:100%;\n    align-items:flex-start;\n}\n/*卡片盒子*/\n.home_view .count_list .card_view {\n    width:23%;\n    height:auto;\n    margin:0px 1% 20px;\n    box-sizing:border-box;\n    background:var(--theme10);\n    border:1px solid var(--theme30);\n    border-radius:30px;\n    flex: 1;\n    padding:0;\n    box-shadow: none;\n}\n\n.home_view .count_list .card_view:nth-child(1) {\n}\n.home_view .count_list .card_view:nth-child(2) {\n}\n.home_view .count_list .card_view:nth-child(3) {\n}\n.home_view .count_list .card_view:nth-child(4) {\n}\n.home_view .count_list .card_view:nth-child(2n+5) {\n}\n.home_view .count_list .card_view:nth-child(2n+6) {\n}\n.home_view .count_list .card_view:nth-child(1):hover {\n}\n.home_view .count_list .card_view:nth-child(2):hover {\n}\n.home_view .count_list .card_view:nth-child(3):hover {\n}\n.home_view .count_list .card_view:nth-child(4):hover {\n}\n.home_view .count_list .card_view:nth-child(2n+5):hover {\n}\n.home_view .count_list .card_view:nth-child(2n+6):hover {\n}\n\n/*head 总盒子*/\n.home_view .count_list .card_view .el-card__header{\n     width: 100%;\n    border: 0px solid rgb(238, 238, 238);\n    display: none;\n}\n/*item*/\n.home_view .count_list .card_view .el-card__header .index_card_head{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    height: 0px;\n}\n/*标题*/\n.home_view .count_list .card_view .el-card__header .index_card_head .card_head_title{\n    font-size: 14px;\n}\n/*按钮盒子*/\n.home_view .count_list .card_view .el-card__header .index_card_head .card_head_right{\n    display: flex;\n    align-items: center;\n}\n/*按钮*/\n.home_view .count_list .card_view .el-card__header .index_card_head .card_head_right .showIcons{\n    color: rgb(102, 102, 102);\n    font-size: 20px;\n    cursor: pointer;\n}\n/*body 总盒子*/\n.home_view .count_list .card_view .el-card__body{\n    padding: 30px;\n    background: none;\n}\n/*item*/\n.home_view .count_list .card_view .el-card__body .count_item{\n    padding: 0px;\n    text-align: left;\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n    flex-direction: column;\n}\n/*标题*/\n.home_view .count_list .card_view .el-card__body .count_item .count_title{\n    font-size: 16px;\n    line-height: 2;\n    display: inline-block;\n    margin: 0px 10px 0px 0px;\n    font-weight: 500;\n    width: 100%;\n    text-align:center;\n    color: #333;\n    background:var(--theme30);\n    padding: 5px;\n    border-radius:20px;\n}\n/*数字*/\n.home_view .count_list .card_view .el-card__body .count_item .count_num{\n    width: 100%;\n    font-size: 30px;\n    color: var(--theme);\n    line-height: 2;\n    display: inline-block;\n    font-weight: 500;\n    text-align:center;\n}\n\n/*图表*/\n/*总盒子*/\n.home_view .card_list{\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    padding: 0px 0px 20px;\n    align-items: flex-start;\n    order:11;\n}\n/*卡片 总盒子*/\n.home_view .card_list .card_view{\n    width: 48%;\n    height: auto;\n    margin: 0px 1% 30px;\n    box-sizing: border-box;\n    border:1px solid var(--theme30);\n    border-radius: 0px;\n    padding: 20px 0px 0px;\n    box-shadow: 0 0px 0px 0 rgba(0,0,0,.1);\n    border-radius:30px;\n}\n/*head 总盒子*/\n.home_view .card_list .card_view .el-card__header{\n    width: 100%;\n    border: 0px solid rgb(238, 238, 238);\n    background: rgb(255, 255, 255);\n    display: none;\n}\n/*item*/\n.home_view .card_list .card_view .el-card__header .index_card_head{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    height: 10px;\n}\n/*标题*/\n.home_view .card_list .card_view .el-card__header .index_card_head .card_head_title{\n    color: rgb(33, 33, 33);\n}\n/*按钮盒子*/\n.home_view .card_list .card_view .el-card__header .index_card_head .card_head_right{\n    display: none;\n}\n/*按钮*/\n.home_view .card_list .card_view .el-card__header .index_card_head .card_head_right .showIcons{\n    color: rgb(238, 238, 238);\n    font-size: 20px;\n    cursor: pointer;\n}\n\n/*body 总盒子*/\n.home_view .card_list .card_view .el-card__body{\n    padding: 0px;\n    background: rgb(255, 255, 255);\n}\n.home_view .card_list .card_view .el-card__body .card_item{\n    padding: 10px;\n    text-align: center;\n}\n\n.home-calendar{\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px;\n  margin: 0px auto 30px;\n  border-radius: 0px;\n  color: rgb(102, 102, 102);\n  background: #fff;\n  width: calc(100% - 30px);\n  font-size: inherit;\n  height: auto;\n  padding:0 0 10px;\n  order:2;\n}\n.home-calendar .header{\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  height: auto;\n  padding: 17px 40px;\n  background:var(--theme10);\n  border:1px solid var(--theme30);\n  border-radius:30px 30px 0 0;\n}\n.home-calendar .header .btn{\n  cursor: pointer;\n  border: 0px solid rgb(153, 153, 153);\n  padding: 0px 0px 0px 12px;\n  align-items: center;\n  color: #333;\n  border-radius: 4px;\n  display: flex;\n  width: auto;\n  font-size: 16px;\n  justify-content: center;\n}\n.home-calendar .header .title{\n  padding: 0px 10px;\n  font-size: 24px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  color: #333;\n}\n.home-calendar table{\n  width: 100%;\n  background: none;\n  padding: 0px 0px 20px;\n  height: auto;\n  border:1px solid var(--theme30);\n  border-radius:0 0 30px 30px;\n}\n.home-calendar tbody,thead{\n  width: 100%;\n}\n.home-calendar tr{\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.home-calendar th{\n  align-items: center;\n  flex: 1;\n  display: flex;\n  line-height: 50px;\n  justify-content: center;\n}\n.home-calendar td{\n  cursor: pointer;\n  padding: 6px 12px 6px;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n}\n.home-calendar td.today .text{\n  width: 80%;\n  height: 80%;\n  padding:5px 0;\n  background: var(--theme50) !important;\n  color:var(--theme);\n  border-radius:0px;\n}\n.home-calendar td.festival .text{\n  width: 80%;\n  height: 80%;\n  padding:5px 0;\n  background: var(--theme20);\n  border-radius:0px;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}