{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/24831/Desktop/Y/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/projectB/\\u8FED\\u4EE32/manage_code/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nvar _interopRequireWildcard2 = _interopRequireDefault(require(\"C:/Users/24831/Desktop/Y/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/projectB/\\u8FED\\u4EE32/manage_code/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\"));\nvar _indexMenu = _interopRequireDefault(require(\"@/components/index/indexMenu\"));\nvar _indexTop = _interopRequireDefault(require(\"@/components/index/indexTop\"));\nvar _indexTags = _interopRequireDefault(require(\"@/components/index/indexTags\"));\nvar _menu = _interopRequireDefault(require(\"@/utils/menu\"));\nvar _router = _interopRequireDefault(require(\"../../router\"));\nvar _vue = require(\"vue\");\nvar _default = {\n  __name: 'indexMain',\n  setup: function setup(__props, _ref) {\n    var _getCurrentInstance;\n    var expose = _ref.expose;\n    expose();\n    var context = (_getCurrentInstance = (0, _vue.getCurrentInstance)()) === null || _getCurrentInstance === void 0 ? void 0 : _getCurrentInstance.appContext.config.globalProperties;\n    var collapse = (0, _vue.ref)(false);\n    var collapseChange = function collapseChange() {\n      collapse.value = !collapse.value;\n    };\n    var menuList = (0, _vue.ref)(null);\n    var role = (0, _vue.ref)('');\n    var init = function init() {\n      var menus = _menu[\"default\"].list();\n      if (menus) {\n        menuList.value = menus;\n      }\n      role.value = context === null || context === void 0 ? void 0 : context.$toolUtil.storageGet('role');\n      for (var i = 0; i < menuList.value.length; i++) {\n        if (menuList.value[i].roleName == role.value) {\n          menuList.value = menuList.value[i].backMenu;\n          break;\n        }\n      }\n      var arr = makeMenu(menuList.value);\n      _router[\"default\"].addRoute(arr);\n    };\n    var makeMenu = function makeMenu(menu) {\n      var brr = {\n        path: '/1',\n        component: function component() {\n          return Promise.resolve().then(function () {\n            return (0, _interopRequireWildcard2[\"default\"])(require('../../views/index'));\n          });\n        },\n        children: []\n      };\n      var _loop = function _loop(x) {\n        var _loop2 = function _loop2(i) {\n          brr.children.push({\n            path: '/' + menu[x].child[i].tableName,\n            name: menu[x].child[i].menu,\n            component: function component() {\n              return function (specifier) {\n                return new Promise(function (r) {\n                  return r(specifier);\n                }).then(function (s) {\n                  return (0, _interopRequireWildcard2[\"default\"])(require(s));\n                });\n              }(\"../../views/\".concat(menu[x].child[i].tableName, \"/list.vue\"));\n            }\n          });\n        };\n        for (var i in menu[x].child) {\n          _loop2(i);\n        }\n      };\n      for (var x in menu) {\n        _loop(x);\n      }\n      return brr;\n    };\n    // init()\n\n    var __returned__ = {\n      context: context,\n      collapse: collapse,\n      collapseChange: collapseChange,\n      menuList: menuList,\n      role: role,\n      init: init,\n      makeMenu: makeMenu,\n      get IndexAside() {\n        return _indexMenu[\"default\"];\n      },\n      get IndexHeader() {\n        return _indexTop[\"default\"];\n      },\n      get IndexTags() {\n        return _indexTags[\"default\"];\n      },\n      get menu() {\n        return _menu[\"default\"];\n      },\n      get router() {\n        return _router[\"default\"];\n      },\n      ref: _vue.ref,\n      getCurrentInstance: _vue.getCurrentInstance\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};\nexports[\"default\"] = _default;","map":{"version":3,"mappings":";;;;;;;;;;;AAgBC;AACA;AACA;AACA;AACA;AACA;AAGY;;;;;;IACZ,IAAMA,OAAO,0BAAG,2BAAkB,GAAE,wDAApB,oBAAsBC,UAAU,CAACC,MAAM,CAACC,gBAAgB;IACxE,IAAMC,QAAQ,GAAG,YAAG,EAAE,KAAK,CAAC;IAC5B,IAAMC,cAAc,GAAG,SAAjBA,cAAc,GAAS;MAC5BD,QAAQ,CAACE,KAAK,GAAG,CAACF,QAAQ,CAACE,KAAK;IACjC,CAAC;IACD,IAAMC,QAAQ,GAAG,YAAG,EAAC,IAAI,CAAC;IAC1B,IAAMC,IAAI,GAAG,YAAG,EAAC,EAAE,CAAC;IACpB,IAAMC,IAAI,GAAG,SAAPA,IAAI,GAAS;MAClB,IAAMC,KAAK,GAAGC,gBAAI,CAACC,IAAI,EAAE;MACzB,IAAIF,KAAK,EAAE;QACVH,QAAQ,CAACD,KAAK,GAAGI,KAAK;MACvB;MACAF,IAAI,CAACF,KAAK,GAAGN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEa,SAAS,CAACC,UAAU,CAAC,MAAM,CAAC;MAClD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,QAAQ,CAACD,KAAK,CAACU,MAAM,EAAED,CAAC,EAAE,EAAE;QAC/C,IAAIR,QAAQ,CAACD,KAAK,CAACS,CAAC,CAAC,CAACE,QAAQ,IAAIT,IAAI,CAACF,KAAK,EAAE;UAC7CC,QAAQ,CAACD,KAAK,GAAGC,QAAQ,CAACD,KAAK,CAACS,CAAC,CAAC,CAACG,QAAQ;UAC3C;QACD;MACD;MACA,IAAIC,GAAG,GAAGC,QAAQ,CAACb,QAAQ,CAACD,KAAK,CAAC;MAElCe,kBAAM,CAACC,QAAQ,CAACH,GAAG,CAAC;IACrB,CAAC;IACD,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAIT,IAAI,EAAK;MAC1B,IAAIY,GAAG,GAAG;QACTC,IAAI,EAAE,IAAI;QACVC,SAAS,EAAE;UAAA;YAAA,wDAAa,mBAAmB;UAAA;QAAA,CAAC;QAC5CC,QAAQ,EAAE;MACX,CAAC;MAAA,8BACmB;QAAA,gCACU;UAC5BH,GAAG,CAACG,QAAQ,CAACC,IAAI,CAAC;YACjBH,IAAI,EAAE,GAAG,GAAGb,IAAI,CAACiB,CAAC,CAAC,CAACC,KAAK,CAACd,CAAC,CAAC,CAACe,SAAS;YACtCC,IAAI,EAAEpB,IAAI,CAACiB,CAAC,CAAC,CAACC,KAAK,CAACd,CAAC,CAAC,CAACJ,IAAI;YAC3Bc,SAAS,EAAE;cAAA;gBAAA;kBAAA;gBAAA;kBAAA;gBAAA;cAAA,wBAA4Bd,IAAI,CAACiB,CAAC,CAAC,CAACC,KAAK,CAACd,CAAC,CAAC,CAACe,SAAS;YAAA;UAClE,CAAC,CAAC;QACH,CAAC;QAND,KAAK,IAAIf,CAAC,IAAIJ,IAAI,CAACiB,CAAC,CAAC,CAACC,KAAK;UAAA;QAAA;MAO5B,CAAC;MARD,KAAK,IAAID,CAAC,IAAIjB,IAAI;QAAA;MAAA;MASlB,OAAOY,GAAG;IACX,CAAC;IACD","names":["context","appContext","config","globalProperties","collapse","collapseChange","value","menuList","role","init","menus","menu","list","$toolUtil","storageGet","i","length","roleName","backMenu","arr","makeMenu","router","addRoute","brr","path","component","children","push","x","child","tableName","name"],"sources":["C:/Users/24831/Desktop/Y/毕业设计/projectB/迭代2/manage_code/src/components/index/indexMain.vue"],"sourcesContent":["<template>\r\n\t<div style=\"height: 100%;\">\r\n\t\t<index-aside :collapse=\"collapse\" :class=\"collapse?'index-aside-collapse':'index-aside'\"></index-aside>\r\n\t\t<el-main class=\"main_view main-container index_transition\" style=\"max-width:100%\" :class=\"collapse?'main_view-collapse':''\">\r\n\t\t\t<index-header class=\"index_header index_transition\" :collapse=\"collapse\"\r\n\t\t\t\t@collapseChange=\"collapseChange\" :style=\"{'width':'100%','max-width':'100%'}\">\r\n\t\t\t</index-header>\r\n\t\t\t<index-tags class=\"index_tags\" :style=\"{'width':'100%','max-width':'100%'}\">\r\n\t\t\t</index-tags>\r\n\t\t\t<router-view class=\"router-view index_transition\">\r\n\t\t\t</router-view>\r\n\t\t</el-main>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport IndexAside from '@/components/index/indexMenu'\r\n\timport IndexHeader from '@/components/index/indexTop'\r\n\timport IndexTags from '@/components/index/indexTags'\r\n\timport menu from \"@/utils/menu\";\r\n\timport router from '../../router'\r\n\timport {\r\n\t\tref,\r\n\t\tgetCurrentInstance\r\n\t} from 'vue'\r\n\tconst context = getCurrentInstance()?.appContext.config.globalProperties;\r\n\tconst collapse = ref( false)\r\n\tconst collapseChange = () => {\r\n\t\tcollapse.value = !collapse.value\r\n\t}\r\n\tconst menuList = ref(null)\r\n\tconst role = ref('')\r\n\tconst init = () => {\r\n\t\tconst menus = menu.list()\r\n\t\tif (menus) {\r\n\t\t\tmenuList.value = menus\r\n\t\t}\r\n\t\trole.value = context?.$toolUtil.storageGet('role')\r\n\t\tfor (let i = 0; i < menuList.value.length; i++) {\r\n\t\t\tif (menuList.value[i].roleName == role.value) {\r\n\t\t\t\tmenuList.value = menuList.value[i].backMenu;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet arr = makeMenu(menuList.value)\r\n\r\n\t\trouter.addRoute(arr)\r\n\t}\r\n\tconst makeMenu = (menu) => {\r\n\t\tlet brr = {\r\n\t\t\tpath: '/1',\r\n\t\t\tcomponent: () => import('../../views/index'),\r\n\t\t\tchildren: []\r\n\t\t}\r\n\t\tfor (let x in menu) {\r\n\t\t\tfor (let i in menu[x].child) {\r\n\t\t\t\tbrr.children.push({\r\n\t\t\t\t\tpath: '/' + menu[x].child[i].tableName,\r\n\t\t\t\t\tname: menu[x].child[i].menu,\r\n\t\t\t\t\tcomponent: () => import(`../../views/${menu[x].child[i].tableName}/list.vue`)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn brr\r\n\t}\r\n\t// init()\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\ta:hover {\r\n\t\tbackground: #00c292;\r\n\t}\r\n\r\n\t.el-main {\r\n\t}\r\n\t.main_view-collapse {\r\n\t\tpadding: 80px 0px 0 0px !important;\r\n\t\tmargin: 0 0 0 0px;\r\n\t\toverflow: hidden;\r\n\t\tbackground: url(http://clfile.zggen.cn/20240725/fc063dbd1a18405098392dc86c8b0014.jpg) no-repeat center top / 100% 100%,#fff;\r\n\t\ttransition: all 0.3s ease-in-out 0s;\r\n\t}\r\n\t.main_view {\r\n\t\tposition: relative;\r\n\t\tpadding:0;\r\n\t}\r\n\r\n\t.index-aside {\r\n\t}\r\n\t.index-aside-collapse {\r\n\t\tbox-shadow: 0px 0 0px  rgba(0, 0, 0, .3);\r\n\t\toverflow: hidden;\r\n\t\ttop: 80px;\r\n\t\tleft: 0;\r\n\t\tbackground: #303639;\r\n\t\twidth: 0px;\r\n\t\tposition: fixed;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.index_header {\r\n\t\twidth: 100%;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.index_tags {\r\n\t\twidth: 100%;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.index_transition{\r\n\t\ttransition:all .35s;\r\n\t}\r\n</style>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}